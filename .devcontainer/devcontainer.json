{
    "customizations": {
        "vscode": {
            "extensions": [
                "mads-hartmann.bash-ide-vscode",
                "yzhang.markdown-all-in-one",
                "DavidAnson.vscode-markdownlint",
                "streetsidesoftware.code-spell-checker",
                "GitHub.vscode-pull-request-github",
                "GitHub.vscode-github-actions",
                "GitHub.vscode-codeql",
                "Codeium.codeium"
            ],
            "settings": {
                "dotfiles.repository": "partcad/dotfiles"
            }
        }
    },
    "containerEnv": {
        "PRE_COMMIT_HOME": "${containerWorkspaceFolder}/.pre-commit"
    },
    "postCreateCommand": {
        "pre-commit": "pre-commit install"
    },
    "features": {
        "ghcr.io/devcontainers/features/python:1": {
            "installTools": true,
            "toolsToInstall": [
                "pre-commit",
                "poetry"
            ],
            "version": "latest"
        },
        "ghcr.io/partcad/devcontainers-features/starship:2": {},
        "ghcr.io/partcad/devcontainers-features/apt:2": {
            "packages": "shellcheck shfmt mc python3-pip python3-venv"
        },
        "ghcr.io/devcontainers/features/docker-in-docker:2": {}
    },
    "image": "mcr.microsoft.com/devcontainers/javascript-node:1-20-bookworm",
    "remoteEnv": {
        "GITHUB_TOKEN": "${localEnv:GITHUB_TOKEN}",
        "DOCKER_BUILDKIT": "1",
        "BUILDKIT_DEBUG": "1",
        "PATH": "${containerEnv:PATH}:/opt/pip/bin"
    },
    "remoteUser": "node",
    "updateContentCommand": "npm install -g @devcontainers/cli"
}
